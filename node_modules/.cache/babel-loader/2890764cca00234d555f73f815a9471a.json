{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/app/frontend/src/components/Pages/Home.jsx\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport Card from \"../Layouts/Card\";\nimport SideBar from \"../Layouts/SideBar\";\nimport Pagination from \"../Layouts/Pagination\";\nimport { Link, useLocation, withRouter } from \"react-router-dom\";\nimport Config from \"../BaseUrl/Config\";\n\nconst queryString = require('query-string');\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n\n    this.filterData = pageNo => {\n      const urlParams = new URLSearchParams(window.location.search);\n      const myParam = urlParams.get(\"title\") ? urlParams.get(\"title\") : \"\";\n      const myFilter = urlParams.get(\"filter\") ? urlParams.get(\"filter\") : \"\";\n\n      if (myParam) {\n        this.setState({\n          paramGet: true,\n          Titleparam: myParam\n        });\n      }\n\n      axios.get(`${Config.apiUrl}/api/questions?page=${pageNo}&tag=${myFilter}&title=${myParam}`).then(response => {\n        this.setState({\n          questions: response.data.questions,\n          currentPage: response.data.pagination.current_page,\n          totalPage: response.data.pagination.totalPage\n        });\n      }).catch(error => console.log(error));\n    };\n\n    this.state = {\n      questions: [],\n      currentPage: 1,\n      totalPage: 1,\n      FilterDone: true,\n      paramGet: false,\n      Titleparam: null\n    };\n  }\n\n  componentDidMount() {\n    this.filterData(this.state.currentPage);\n  }\n\n  componentDidUpdate() {\n    let Qstring = queryString.parse(window.location.search);\n\n    if (Object.values(Qstring).length > 0) {\n      if (this.state.FilterDone === true) {\n        this.setState({\n          FilterDone: false\n        });\n        this.filterData(this.state.currentPage);\n      }\n    } else {\n      if (this.state.FilterDone === false) {\n        this.filterData(this.state.currentPage);\n        this.setState({\n          FilterDone: true\n        });\n      }\n    }\n  }\n\n  render() {\n    let {\n      questions,\n      currentPage,\n      totalPage\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mt-4 wr_padding_top\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-9 col-sm-8 col-xs-12\",\n            children: [this.state.paramGet && /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [\"Search for '\", this.state.Titleparam, \"'\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 29\n            }, this), this.state.questions.map((question, index) => /*#__PURE__*/_jsxDEV(Card, {\n              question: question\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 33\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-3 col-sm-4 col-xs-12\",\n            children: /*#__PURE__*/_jsxDEV(SideBar, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-12 custom_align_pagination\",\n            children: /*#__PURE__*/_jsxDEV(Pagination, {\n              currentPage: currentPage,\n              totalPage: totalPage,\n              loadData: value => {\n                this.filterData(value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/app/frontend/src/components/Pages/Home.jsx"],"names":["React","Component","axios","Card","SideBar","Pagination","Link","useLocation","withRouter","Config","queryString","require","Home","constructor","props","filterData","pageNo","urlParams","URLSearchParams","window","location","search","myParam","get","myFilter","setState","paramGet","Titleparam","apiUrl","then","response","questions","data","currentPage","pagination","current_page","totalPage","catch","error","console","log","state","FilterDone","componentDidMount","componentDidUpdate","Qstring","parse","Object","values","length","render","map","question","index","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from \"axios\";\nimport Card from \"../Layouts/Card\";\nimport SideBar from \"../Layouts/SideBar\";\nimport Pagination from \"../Layouts/Pagination\";\nimport { Link, useLocation, withRouter } from \"react-router-dom\";\nimport Config from \"../BaseUrl/Config\";\nconst queryString = require('query-string');\n\n\nclass Home extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            questions: [],\n            currentPage: 1,\n            totalPage: 1,\n            FilterDone: true,\n            paramGet:false,\n            Titleparam:null\n          \n\n        };\n    }\n\n\n    componentDidMount() {\n        this.filterData(this.state.currentPage)\n     \n\n    }\n\n    componentDidUpdate() {\n\n        let Qstring = queryString.parse(window.location.search)\n        if (Object.values(Qstring).length > 0) {\n          if (this.state.FilterDone === true) {\n            this.setState({\n                FilterDone: false,\n              })\n            this.filterData(this.state.currentPage)\n           \n          }\n        }\n        else {\n          if (this.state.FilterDone === false) {\n            this.filterData(this.state.currentPage)\n            this.setState({\n              FilterDone: true\n            })\n          }\n        }\n      }\n\n    \n\n    filterData = (pageNo) => {\n\n        const urlParams = new URLSearchParams(window.location.search);\n        const myParam = urlParams.get(\"title\") ? urlParams.get(\"title\") : \"\";\n        const myFilter = urlParams.get(\"filter\") ? urlParams.get(\"filter\") : \"\";\n        if(myParam){\n            this.setState({\n                paramGet:true,\n                Titleparam:myParam\n            })\n        }\n        axios\n            .get(`${Config.apiUrl}/api/questions?page=${pageNo}&tag=${myFilter}&title=${myParam}`)\n            .then((response) => {\n                this.setState({\n                    questions: response.data.questions,\n                    currentPage: response.data.pagination.current_page,\n                    totalPage: response.data.pagination.totalPage,\n                });\n            })\n            .catch((error) => console.log(error));\n    }\n\n    render() {\n        let { questions, currentPage, totalPage } = this.state;\n        return (\n            <React.Fragment>\n                <div className=\"container mt-4 wr_padding_top\">\n                    <div className=\"row\">\n                        <div className=\"col-md-9 col-sm-8 col-xs-12\">\n                            {this.state.paramGet &&\n                            <h4>Search for '{this.state.Titleparam}'</h4>\n                            }\n                            {this.state.questions.map((question, index) => (\n                                <Card question={question}\n                                />\n                            ))}\n                        </div>\n                        <div className=\"col-md-3 col-sm-4 col-xs-12\">\n                            <SideBar />\n                        </div>\n\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"col-md-12 custom_align_pagination\">\n\n                            <Pagination\n                                currentPage={currentPage}\n                                totalPage={totalPage}\n                                loadData={(value) => {\n                                    this.filterData(value)\n                                }}\n                            />\n                        </div>\n                    </div>\n                </div>\n\n            </React.Fragment>\n        )\n    }\n\n}\nexport default Home"]},"metadata":{},"sourceType":"module"}
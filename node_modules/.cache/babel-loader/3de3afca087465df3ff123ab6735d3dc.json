{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/app/frontend/src/components/Layouts/ProfileSidebar.jsx\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport Config from \"../BaseUrl/Config\";\nimport moment from 'moment';\nmoment('timestamp').format('MMMM Do YYYY');\nconst camera_icon = {\n  color: 'black',\n  marginLeft: '-48px',\n  position: 'relative',\n  top: '-106px',\n  fontSize: '20px'\n};\n\nclass ProfileSidebar extends Component {\n  constructor(props) {\n    super(props);\n\n    this.fileSelectHandler = event => {\n      console.log(event.target.files[0]);\n      this.setState({\n        selectedFile: event.target.files[0]\n      });\n    };\n\n    this.onSubmit = this.onSubmit.bind(this);\n    this.state = {\n      selectedFile: null,\n      image: null,\n      update: false,\n      successalart: false\n    };\n  }\n\n  componentDidMount() {\n    if (!window.localStorage.getItem('jwt-token')) {\n      console.log(\"jh\");\n    } else {\n      this.profilePic();\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.state.update === true) {\n      this.profilePic();\n    } else {\n      console.log('k');\n    }\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const obj = {\n      profile: this.state.selectedFile\n    };\n    const formData = new FormData();\n    formData.append('profile', obj.profile);\n    const token = window.localStorage.getItem('jwt-token');\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data',\n        'Authorization': `${token}`\n      }\n    };\n    axios.put(`${Config.apiUrl}/api/profile-pic`, formData, config).then(res => {\n      console.log(res.data);\n      this.setState({\n        update: true,\n        successalart: true\n      }, () => {\n        window.setTimeout(() => {\n          this.setState({\n            successalart: false\n          });\n        }, 2000);\n      });\n    });\n  }\n\n  profilePic() {\n    const token = window.localStorage.getItem('jwt-token');\n    const config = {\n      headers: {\n        'Authorization': `${token}`\n      }\n    };\n    axios.get(`${Config.apiUrl}/api/profile`, config).then(response => {\n      this.setState({\n        image: response.data.imageUrl\n      });\n      console.log(\"profile\", response.data.imageUrl);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  render() {\n    console.log(\"profileData\", this.props.profile);\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \" profile_sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: this.props.sidebarprofile.userName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), this.state.image != null && /*#__PURE__*/_jsxDEV(\"img\", {\n          class: \"update_profile\",\n          src: \" \" + this.state.image\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this), this.state.image === null && /*#__PURE__*/_jsxDEV(\"img\", {\n          class: \"update_profile\",\n          src: \"https://efrana.github.io/Tech_blogV1.2UI/img/profile2.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.onSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            class: \"btn btn-success upload_photo_btn\",\n            children: \" Upload Photo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            id: \"file\",\n            accept: \"image/*\",\n            onChange: this.fileSelectHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"file\",\n              style: camera_icon,\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fa fa-camera \",\n                \"aria-hidden\": \"true\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), this.state.successalart && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pro_up\",\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this), \"Image Uploaded Successfully!!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"profile_deco\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: \"gray\",\n              fontSize: \"13px\"\n            },\n            children: \"Upload a profile picture. Large file will be invalid autometically\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: \"gray\",\n              fontSize: \"13px\"\n            },\n            children: \"Maximun Upload size 1MB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          class: \"profile_para\",\n          children: [\"Account Created \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: moment(this.props.sidebarprofile.createdAt).format('Do MMMM YYYY')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 51\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default ProfileSidebar;","map":{"version":3,"sources":["/app/frontend/src/components/Layouts/ProfileSidebar.jsx"],"names":["React","Component","axios","Config","moment","format","camera_icon","color","marginLeft","position","top","fontSize","ProfileSidebar","constructor","props","fileSelectHandler","event","console","log","target","files","setState","selectedFile","onSubmit","bind","state","image","update","successalart","componentDidMount","window","localStorage","getItem","profilePic","componentDidUpdate","e","preventDefault","obj","profile","formData","FormData","append","token","config","headers","put","apiUrl","then","res","data","setTimeout","get","response","imageUrl","catch","error","render","sidebarprofile","userName","createdAt"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACAA,MAAM,CAAC,WAAD,CAAN,CAAoBC,MAApB,CAA2B,cAA3B;AAGA,MAAMC,WAAW,GAAG;AAClBC,EAAAA,KAAK,EAAE,OADW;AAElBC,EAAAA,UAAU,EAAE,OAFM;AAGlBC,EAAAA,QAAQ,EAAE,UAHQ;AAIlBC,EAAAA,GAAG,EAAE,QAJa;AAKlBC,EAAAA,QAAQ,EAAE;AALQ,CAApB;;AAQA,MAAMC,cAAN,SAA6BX,SAA7B,CAAuC;AAErCY,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SA8BnBC,iBA9BmB,GA8BCC,KAAK,IAAI;AAC3BC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAZ;AACA,WAAKC,QAAL,CAAc;AACZC,QAAAA,YAAY,EAAEN,KAAK,CAACG,MAAN,CAAaC,KAAb,CAAmB,CAAnB;AADF,OAAd;AAGD,KAnCkB;;AAEjB,SAAKG,QAAL,GAAgB,KAAKA,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAAhB;AAEA,SAAKC,KAAL,GAAa;AACXH,MAAAA,YAAY,EAAE,IADH;AAEXI,MAAAA,KAAK,EAAE,IAFI;AAGXC,MAAAA,MAAM,EAAE,KAHG;AAIXC,MAAAA,YAAY,EAAE;AAJH,KAAb;AAMD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,QAAI,CAACC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,WAA5B,CAAL,EAA+C;AAC7Cf,MAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AACD,KAFD,MAGK;AACH,WAAKe,UAAL;AAED;AACF;;AACDC,EAAAA,kBAAkB,GAAG;AACnB,QAAI,KAAKT,KAAL,CAAWE,MAAX,KAAsB,IAA1B,EAAgC;AAC9B,WAAKM,UAAL;AACD,KAFD,MAGK;AACHhB,MAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ;AACD;AACF;;AASDK,EAAAA,QAAQ,CAACY,CAAD,EAAI;AACVA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMC,GAAG,GAAG;AACVC,MAAAA,OAAO,EAAE,KAAKb,KAAL,CAAWH;AADV,KAAZ;AAGA,UAAMiB,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AAEAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,SAAhB,EAA2BJ,GAAG,CAACC,OAA/B;AACA,UAAMI,KAAK,GAAGZ,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,WAA5B,CAAd;AACA,UAAMW,MAAM,GAAG;AACbC,MAAAA,OAAO,EAAE;AACP,wBAAgB,qBADT;AAEP,yBAAkB,GAAEF,KAAM;AAFnB;AADI,KAAf;AAMAxC,IAAAA,KAAK,CAAC2C,GAAN,CAAW,GAAE1C,MAAM,CAAC2C,MAAO,kBAA3B,EAA8CP,QAA9C,EAAwDI,MAAxD,EACGI,IADH,CACQC,GAAG,IAAI;AACX/B,MAAAA,OAAO,CAACC,GAAR,CAAY8B,GAAG,CAACC,IAAhB;AACA,WAAK5B,QAAL,CAAc;AACZM,QAAAA,MAAM,EAAE,IADI;AAEZC,QAAAA,YAAY,EAAE;AAFF,OAAd,EAKE,MAAM;AAAEE,QAAAA,MAAM,CAACoB,UAAP,CAAkB,MAAM;AAAE,eAAK7B,QAAL,CAAc;AAAEO,YAAAA,YAAY,EAAE;AAAhB,WAAd;AAAwC,SAAlE,EAAoE,IAApE;AAA2E,OALrF;AAOD,KAVH;AAYD;;AAGDK,EAAAA,UAAU,GAAG;AACX,UAAMS,KAAK,GAAGZ,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,WAA5B,CAAd;AACA,UAAMW,MAAM,GAAG;AACbC,MAAAA,OAAO,EAAE;AACP,yBAAkB,GAAEF,KAAM;AADnB;AADI,KAAf;AAKAxC,IAAAA,KAAK,CAACiD,GAAN,CAAW,GAAEhD,MAAM,CAAC2C,MAAO,cAA3B,EAA0CH,MAA1C,EACGI,IADH,CACQK,QAAQ,IAAI;AAChB,WAAK/B,QAAL,CAAc;AACZK,QAAAA,KAAK,EAAE0B,QAAQ,CAACH,IAAT,CAAcI;AADT,OAAd;AAIApC,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBkC,QAAQ,CAACH,IAAT,CAAcI,QAArC;AACD,KAPH,EAQGC,KARH,CAQS,UAAUC,KAAV,EAAiB;AACtBtC,MAAAA,OAAO,CAACC,GAAR,CAAYqC,KAAZ;AACD,KAVH;AAWD;;AAEDC,EAAAA,MAAM,GAAG;AACPvC,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2B,KAAKJ,KAAL,CAAWwB,OAAtC;AACA,wBACE,QAAC,KAAD,CAAO,QAAP;AAAA,6BACE;AAAK,QAAA,KAAK,EAAC,kBAAX;AAAA,gCACE;AAAA,oBACG,KAAKxB,KAAL,CAAW2C,cAAX,CAA0BC;AAD7B;AAAA;AAAA;AAAA;AAAA,gBADF,EAKG,KAAKjC,KAAL,CAAWC,KAAX,IAAoB,IAApB,iBACC;AAAK,UAAA,KAAK,EAAC,gBAAX;AAA4B,UAAA,GAAG,EAAE,MAAM,KAAKD,KAAL,CAAWC;AAAlD;AAAA;AAAA;AAAA;AAAA,gBANJ,EAQG,KAAKD,KAAL,CAAWC,KAAX,KAAqB,IAArB,iBACC;AAAK,UAAA,KAAK,EAAC,gBAAX;AAA4B,UAAA,GAAG,EAAC;AAAhC;AAAA;AAAA;AAAA;AAAA,gBATJ,eAaE;AAAM,UAAA,QAAQ,EAAE,KAAKH,QAArB;AAAA,kCACE;AAAQ,YAAA,IAAI,EAAC,QAAb;AAAsB,YAAA,KAAK,EAAC,kCAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAGE;AAAO,YAAA,IAAI,EAAC,MAAZ;AAAmB,YAAA,EAAE,EAAC,MAAtB;AAA6B,YAAA,MAAM,EAAC,SAApC;AAA8C,YAAA,QAAQ,EAAE,KAAKR;AAA7D;AAAA;AAAA;AAAA;AAAA,kBAHF,eAIE;AAAG,YAAA,IAAI,EAAC,GAAR;AAAA,mCACE;AAAO,cAAA,GAAG,EAAC,MAAX;AAAkB,cAAA,KAAK,EAAET,WAAzB;AAAA,qCACE;AAAG,gBAAA,KAAK,EAAC,eAAT;AAAyB,+BAAY;AAArC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAbF,EAuBG,KAAKmB,KAAL,CAAWG,YAAX,iBACD;AAAK,UAAA,SAAS,EAAC,QAAf;AAAA,kCACE;AAAA;AAAA;AAAA;AAAA,kBADF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAxBF,eA6BE;AAAK,UAAA,KAAK,EAAC,cAAX;AAAA,kCACE;AAAG,YAAA,KAAK,EAAE;AAAErB,cAAAA,KAAK,EAAE,MAAT;AAAiBI,cAAAA,QAAQ,EAAE;AAA3B,aAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAG,YAAA,KAAK,EAAE;AAAEJ,cAAAA,KAAK,EAAE,MAAT;AAAiBI,cAAAA,QAAQ,EAAE;AAA3B,aAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBA7BF,eAkCE;AAAG,UAAA,KAAK,EAAC,cAAT;AAAA,sDAAwC;AAAA,sBACrCP,MAAM,CAAC,KAAKU,KAAL,CAAW2C,cAAX,CAA0BE,SAA3B,CAAN,CAA4CtD,MAA5C,CAAmD,cAAnD;AADqC;AAAA;AAAA;AAAA;AAAA,kBAAxC;AAAA;AAAA;AAAA;AAAA;AAAA,gBAlCF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AA2CD;;AAtIoC;;AAyIvC,eAAeO,cAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from \"axios\";\nimport Config from \"../BaseUrl/Config\";\nimport moment from 'moment';\nmoment('timestamp').format('MMMM Do YYYY')\n\n\nconst camera_icon = {\n  color: 'black',\n  marginLeft: '-48px',\n  position: 'relative',\n  top: '-106px',\n  fontSize: '20px'\n}\n\nclass ProfileSidebar extends Component {\n\n  constructor(props) {\n    super(props);\n    this.onSubmit = this.onSubmit.bind(this);\n\n    this.state = {\n      selectedFile: null,\n      image: null,\n      update: false,\n      successalart: false\n    }\n  }\n\n  componentDidMount() {\n    if (!window.localStorage.getItem('jwt-token')) {\n      console.log(\"jh\")\n    }\n    else {\n      this.profilePic()\n\n    }\n  }\n  componentDidUpdate() {\n    if (this.state.update === true) {\n      this.profilePic()\n    }\n    else {\n      console.log('k')\n    }\n  }\n\n  fileSelectHandler = event => {\n    console.log(event.target.files[0])\n    this.setState({\n      selectedFile: event.target.files[0]\n    })\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const obj = {\n      profile: this.state.selectedFile,\n    };\n    const formData = new FormData();\n\n    formData.append('profile', obj.profile)\n    const token = window.localStorage.getItem('jwt-token')\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data',\n        'Authorization': `${token}`\n      }\n    }\n    axios.put(`${Config.apiUrl}/api/profile-pic`, formData, config)\n      .then(res => {\n        console.log(res.data)\n        this.setState({\n          update: true,\n          successalart: true,\n\n        },\n          () => { window.setTimeout(() => { this.setState({ successalart: false }) }, 2000) })\n\n      }\n      );\n  }\n\n\n  profilePic() {\n    const token = window.localStorage.getItem('jwt-token')\n    const config = {\n      headers: {\n        'Authorization': `${token}`\n      }\n    }\n    axios.get(`${Config.apiUrl}/api/profile`, config)\n      .then(response => {\n        this.setState({\n          image: response.data.imageUrl,\n\n        });\n        console.log(\"profile\", response.data.imageUrl)\n      })\n      .catch(function (error) {\n        console.log(error);\n      })\n  }\n\n  render() {\n    console.log(\"profileData\", this.props.profile)\n    return (\n      <React.Fragment>\n        <div class=\" profile_sidebar\">\n          <h3>\n            {this.props.sidebarprofile.userName}\n          </h3>\n\n          {this.state.image != null &&\n            <img class=\"update_profile\" src={\" \" + this.state.image} />\n          }\n          {this.state.image === null &&\n            <img class=\"update_profile\" src=\"https://efrana.github.io/Tech_blogV1.2UI/img/profile2.png\" />\n          }\n\n\n          <form onSubmit={this.onSubmit}>\n            <button type=\"submit\" class=\"btn btn-success upload_photo_btn\" > Upload Photo</button>\n\n            <input type=\"file\" id=\"file\" accept=\"image/*\" onChange={this.fileSelectHandler} />\n            <a href=\"#\">\n              <label for=\"file\" style={camera_icon}>\n                <i class=\"fa fa-camera \" aria-hidden=\"true\"></i>\n              </label>\n            </a>\n          </form>\n          {this.state.successalart &&\n          <div className=\"pro_up\" >\n            <br/>\n            Image Uploaded Successfully!!\n             </div>\n            }\n          <div class=\"profile_deco\" >\n            <p style={{ color: \"gray\", fontSize: \"13px\" }}>Upload a profile picture. Large file will be invalid autometically</p>\n            <p style={{ color: \"gray\", fontSize: \"13px\" }}>Maximun Upload size 1MB</p>\n          </div>\n\n          <p class=\"profile_para\">Account Created <strong>\n            {moment(this.props.sidebarprofile.createdAt).format('Do MMMM YYYY')}\n          </strong></p>\n        </div>\n\n      </React.Fragment>\n    )\n  }\n\n}\nexport default ProfileSidebar"]},"metadata":{},"sourceType":"module"}
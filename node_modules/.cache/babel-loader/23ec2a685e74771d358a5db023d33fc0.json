{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/app/frontend/src/components/Layouts/AdminUserDetailsBody.jsx\";\nimport React, { Component } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport axios from \"axios\";\nimport Config from \"../BaseUrl/Config\";\n\nclass AdminUserDetailsBody extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeGroup = this.onChangeGroup.bind(this);\n    this.state = {\n      userDetail: [],\n      Groups: [],\n      checkbox: [],\n      banned: false,\n      userRoles: [],\n      successalart: false\n    };\n  }\n\n  componentDidMount() {\n    this.userDetails();\n    this.groupList();\n  }\n\n  onChangeGroup(e) {\n    const currentValue = parseInt(e.target.value);\n\n    if (e.target.checked === true && (this.state.checkbox.size === 0 || !this.state.checkbox.get(currentValue))) {\n      this.setState({\n        checkbox: this.state.checkbox.set(currentValue, true)\n      });\n      console.log(\"if check\", this.state.checkbox);\n    } else if (e.target.checked === false && (this.state.checkbox.size === 0 || this.state.checkbox.get(currentValue))) {\n      this.setState({\n        checkbox: this.state.checkbox.set(currentValue, false)\n      });\n      console.log(\"else check\", this.state.checkbox);\n    }\n  }\n\n  userDetails() {\n    const token = window.localStorage.getItem('jwt-token');\n    const config = {\n      headers: {\n        'Authorization': `${token}`\n      }\n    };\n    axios.get(`${Config.apiUrl}/api/user/` + this.props.Id, config).then(response => {\n      this.setState({\n        userDetail: response.data.users,\n        banned: response.data.banned,\n        userRoles: response.data.Roles\n      });\n      const existedGroupMap = new Map();\n      this.state.userRoles.map(role => existedGroupMap.set(role.id, true));\n      this.setState({\n        checkbox: existedGroupMap\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  groupList() {\n    const token = window.localStorage.getItem('jwt-token');\n    const config = {\n      headers: {\n        'Authorization': `${token}`\n      }\n    };\n    axios.get(`${Config.apiUrl}/api/roles`, config).then(response => {\n      this.setState({\n        Groups: response.data.roles\n      });\n      console.log(\"Groups\", response.data.roles);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  assignGroup(Id) {\n    const token = window.localStorage.getItem('jwt-token');\n    let updatedGroup = [];\n\n    for (let [key, value] of this.state.checkbox) {\n      if (value) {\n        updatedGroup.push(key);\n      }\n    }\n\n    const obj = {\n      roles: updatedGroup\n    };\n    const config = {\n      headers: {\n        'Authorization': `${token}`\n      }\n    }; //working\n\n    axios.put(`${Config.apiUrl}/api/user-update/` + Id, obj, config).then(res => {\n      console.log(res);\n      this.setState({\n        successalart: true\n      }, () => {\n        window.setTimeout(() => {\n          this.setState({\n            successalart: false\n          });\n        }, 2000);\n      });\n    });\n  }\n\n  render() {\n    let {\n      userDetail\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"askqst_post_wrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          class: \"header2\",\n          children: userDetail.userName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, this), this.state.banned && /*#__PURE__*/_jsxDEV(\"a\", {\n          class: \"btn btn-warning btn-sm banButton\",\n          style: {\n            backgroundColor: \"red\"\n          },\n          children: \"Banned\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this), this.state.successalart && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-success\",\n          children: \"User Add in Group !!!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"col-sm-4 \",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    class: \"fa fa-user text_design\",\n                    \"aria-hidden\": \"true\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 146,\n                    columnNumber: 40\n                  }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"FirstName\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 146,\n                    columnNumber: 97\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"para_name\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    class: \"name_desin\",\n                    children: [userDetail.firstName, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 148,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 149,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    class: \"fa fa-user text_design\",\n                    \"aria-hidden\": \"true\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 152,\n                    columnNumber: 40\n                  }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Username\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 152,\n                    columnNumber: 97\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"para_name\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    class: \"name_desin\",\n                    children: userDetail.userName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 154,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 155,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    class: \"fa fa-mobile text_design\",\n                    \"aria-hidden\": \"true\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 158,\n                    columnNumber: 40\n                  }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Mobile Number\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 158,\n                    columnNumber: 99\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"para_name\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    class: \"name_desin\",\n                    children: userDetail.phoneNo\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 161,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 162,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    class: \"fa fa-mobile text_design\",\n                    \"aria-hidden\": \"true\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 40\n                  }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Groups :\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 99\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"para_name\",\n                  children: this.state.checkbox.length !== 0 && this.state.Groups.map((group, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"add_permisision\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"checkbox\",\n                      value: group.id,\n                      checked: this.state.checkbox.get(group.id),\n                      onChange: this.onChangeGroup\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 169,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"permissions\",\n                      children: [\" \", group.name]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 174,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 175,\n                      columnNumber: 56\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 168,\n                    columnNumber: 45\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/user_list\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    class: \"btn btn-success upload_photo_btn2\",\n                    children: \"Back\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"#\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    class: \"btn btn-success upload_photo_btn2 \",\n                    onClick: e => this.assignGroup(userDetail.id),\n                    children: \"Add Groups\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"col-sm-4 \",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    class: \"fa fa-user text_design\",\n                    \"aria-hidden\": \"true\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 192,\n                    columnNumber: 40\n                  }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"LastName\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 192,\n                    columnNumber: 97\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"para_name\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    class: \"name_desin\",\n                    children: [userDetail.lastName, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 194,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 195,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    class: \"fa fa-envelope text_design\",\n                    \"aria-hidden\": \"true\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 40\n                  }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Email\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 101\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"para_name\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    class: \"name_desin\",\n                    children: userDetail.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    class: \"fa fa-mobile text_design\",\n                    \"aria-hidden\": \"true\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 205,\n                    columnNumber: 40\n                  }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Designaion\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 205,\n                    columnNumber: 99\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"para_name\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    class: \"name_desin\",\n                    children: userDetail.about\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default AdminUserDetailsBody;","map":{"version":3,"sources":["/app/frontend/src/components/Layouts/AdminUserDetailsBody.jsx"],"names":["React","Component","Link","Redirect","axios","Config","AdminUserDetailsBody","constructor","props","onChangeGroup","bind","state","userDetail","Groups","checkbox","banned","userRoles","successalart","componentDidMount","userDetails","groupList","e","currentValue","parseInt","target","value","checked","size","get","setState","set","console","log","token","window","localStorage","getItem","config","headers","apiUrl","Id","then","response","data","users","Roles","existedGroupMap","Map","map","role","id","catch","error","roles","assignGroup","updatedGroup","key","push","obj","put","res","setTimeout","render","userName","backgroundColor","firstName","phoneNo","length","group","index","name","lastName","email","about"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport axios from \"axios\";\nimport Config from \"../BaseUrl/Config\";\n\nclass AdminUserDetailsBody extends Component {\n\n    constructor(props) {\n        super(props);\n        this.onChangeGroup = this.onChangeGroup.bind(this);\n        this.state = {\n            userDetail: [],\n            Groups: [],\n            checkbox: [],\n            banned: false,\n            userRoles: [],\n            successalart: false,\n        };\n    }\n\n    componentDidMount() {\n        this.userDetails()\n        this.groupList()\n    }\n\n    onChangeGroup(e) {\n        const currentValue = parseInt(e.target.value)\n        if (e.target.checked === true && (this.state.checkbox.size === 0 || !this.state.checkbox.get(currentValue))) {\n            this.setState({\n                checkbox: this.state.checkbox.set(currentValue, true)\n            })\n            console.log(\"if check\", this.state.checkbox)\n        }\n        else if (e.target.checked === false && (this.state.checkbox.size === 0 || this.state.checkbox.get(currentValue))) {\n            this.setState({\n                checkbox: this.state.checkbox.set(currentValue, false)\n            })\n            console.log(\"else check\", this.state.checkbox)\n\n        }\n    }\n\n\n    userDetails() {\n        const token = window.localStorage.getItem('jwt-token')\n        const config = {\n            headers: {\n                'Authorization': `${token}`\n            }\n        }\n        axios.get(`${Config.apiUrl}/api/user/` + this.props.Id, config)\n            .then(response => {\n                this.setState({\n                    userDetail: response.data.users,\n                    banned: response.data.banned,\n                    userRoles: response.data.Roles\n\n                });\n\n                const existedGroupMap = new Map();\n                this.state.userRoles.map(role => existedGroupMap.set(role.id, true));\n                this.setState({\n                    checkbox: existedGroupMap\n                })\n            })\n            .catch(function (error) {\n                console.log(error);\n            })\n\n    }\n\n    groupList() {\n        const token = window.localStorage.getItem('jwt-token')\n        const config = {\n            headers: {\n                'Authorization': `${token}`\n            }\n        }\n        axios.get(`${Config.apiUrl}/api/roles`, config)\n            .then(response => {\n                this.setState({\n                    Groups: response.data.roles,\n                });\n                console.log(\"Groups\", response.data.roles)\n            })\n            .catch(function (error) {\n                console.log(error);\n            })\n    }\n\n    assignGroup(Id) {\n        const token = window.localStorage.getItem('jwt-token')\n        let updatedGroup = [];\n        for (let [key, value] of this.state.checkbox) {\n            if (value) {\n                updatedGroup.push(key);\n            }\n        }\n        const obj = {\n            roles: updatedGroup,\n        }\n        const config = {\n            headers: {\n                'Authorization': `${token}`\n            }\n        }\n        //working\n        axios.put(`${Config.apiUrl}/api/user-update/` + Id, obj, config)\n            .then((res) => {\n                console.log(res)\n                this.setState({\n                    successalart: true\n                },\n                ()=> {window.setTimeout(()=>{this.setState({successalart:false})},2000)})\n                \n\n            })\n    }\n\n\n\n    render() {\n\n        let { userDetail } = this.state;\n        return (\n            <React.Fragment>\n                {/* <!-- post start  --> */}\n                <div class=\"askqst_post_wrap\">\n                    <br />\n                    <h4 class=\"header2\">{userDetail.userName}</h4>\n                    {this.state.banned &&\n                        <a class=\"btn btn-warning btn-sm banButton\" style={{ backgroundColor: \"red\" }}\n                        >Banned</a>\n                    }\n                    <br />\n                    <br />\n                    {this.state.successalart &&\n                        <div className=\"alert alert-success\">\n                            User Add in Group !!!\n                                        </div>\n                    }\n                    <div class=\"container\">\n                        <div class=\"row\">\n                            <form>\n                                <div class=\"col-sm-4 \">\n                                    <p><i class=\"fa fa-user text_design\" aria-hidden=\"true\"></i><strong>FirstName</strong></p>\n                                    <div class=\"para_name\">\n                                        <p class=\"name_desin\">{userDetail.firstName} </p>\n                                        <hr />\n                                    </div>\n                                    <br />\n                                    <p><i class=\"fa fa-user text_design\" aria-hidden=\"true\"></i><strong>Username</strong></p>\n                                    <div class=\"para_name\">\n                                        <p class=\"name_desin\">{userDetail.userName}</p>\n                                        <hr />\n                                    </div>\n                                    <br />\n                                    <p><i class=\"fa fa-mobile text_design\" aria-hidden=\"true\"></i><strong>Mobile Number</strong>\n                                    </p>\n                                    <div class=\"para_name\">\n                                        <p class=\"name_desin\">{userDetail.phoneNo}</p>\n                                        <hr />\n                                    </div>\n                                    <p><i class=\"fa fa-mobile text_design\" aria-hidden=\"true\"></i><strong>Groups :</strong>\n                                    </p>\n                                    <div class=\"para_name\">\n                                        {this.state.checkbox.length !== 0 && this.state.Groups.map((group, index) => (\n                                            <div class=\"add_permisision\">\n                                                <input type=\"checkbox\"\n                                                    value={group.id}\n                                                    checked={this.state.checkbox.get(group.id)}\n                                                    onChange={this.onChangeGroup}\n                                                />\n                                                <span className=\"permissions\"> {group.name}\n                                                </span><br />\n                                            </div>\n                                        ))}\n\n                                    </div>\n                                    <Link to={\"/user_list\"}>\n                                        <button type=\"button\" class=\"btn btn-success upload_photo_btn2\"\n                                        >Back</button>\n                                    </Link>\n                                    <a href=\"#\">\n                                        <button type=\"button\" class=\"btn btn-success upload_photo_btn2 \"\n                                            onClick={(e) => this.assignGroup(userDetail.id)}\n                                        >Add Groups</button>\n                                    </a>\n                                    \n                                </div>\n                                <div class=\"col-sm-4 \">\n                                    <p><i class=\"fa fa-user text_design\" aria-hidden=\"true\"></i><strong>LastName</strong></p>\n                                    <div class=\"para_name\">\n                                        <p class=\"name_desin\">{userDetail.lastName} </p>\n                                        <hr />\n                                    </div>\n                                    <br />\n                                    <p><i class=\"fa fa-envelope text_design\" aria-hidden=\"true\"></i><strong>Email</strong>\n                                    </p>\n                                    <div class=\"para_name\">\n                                        <p class=\"name_desin\">{userDetail.email}</p>\n                                        <hr />\n                                    </div>\n                                    <br />\n                                    <p><i class=\"fa fa-mobile text_design\" aria-hidden=\"true\"></i><strong>Designaion</strong>\n                                    </p>\n                                    <div class=\"para_name\">\n                                        <p class=\"name_desin\">{userDetail.about}</p>\n                                        <hr />\n                                    </div>\n\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n                {/* // <!-- post end  --> */}\n\n            </React.Fragment>\n        )\n    }\n\n}\nexport default AdminUserDetailsBody"]},"metadata":{},"sourceType":"module"}
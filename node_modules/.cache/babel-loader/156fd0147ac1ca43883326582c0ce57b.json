{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/app/frontend/src/components/Pages/AddGroups.jsx\";\nimport React, { Component } from 'react';\nimport AdminSidebar from \"../Layouts/AdminSidebar\";\nimport DashboardSide from \"../Layouts/DashboardSide\";\nimport axios from \"axios\";\nimport Config from \"../BaseUrl/Config\";\nimport { Link } from 'react-router-dom';\nimport AdminRouteProtected from '../Auth/AdminRouteProtected';\n\nclass AddGroups extends Component {\n  constructor(props) {\n    super(props);\n    this.error_msg = {\n      fontSize: 13,\n      color: 'red'\n    };\n    this.onChangeTitle = this.onChangeTitle.bind(this);\n    this.onChangeDefautGroup = this.onChangeDefautGroup.bind(this);\n    this.onChangeGroup = this.onChangeGroup.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.state = {\n      permissions: null,\n      checkbox: [],\n      groupName: '',\n      errorName: '',\n      successalart: false,\n      upState: false,\n      defaultCheck: false\n    };\n  }\n\n  componentDidMount() {\n    this.getPermission();\n  }\n\n  componentDidUpdate() {\n    if (this.state.upState) {\n      this.getPermission();\n      this.setState({\n        upState: false\n      });\n    } else {\n      console.log(\"not update\");\n    }\n  }\n\n  getPermission() {\n    const token = window.localStorage.getItem('jwt-token');\n    const config = {\n      headers: {\n        'Authorization': `${token}`\n      }\n    };\n    axios.get(`${Config.apiUrl}/api/permissions`, config).then(response => {\n      this.setState({\n        permissions: response.data.permissions\n      });\n      console.log(\"type of\", typeof response.data.permissions);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  onChangeTitle(e) {\n    console.log(\"target\", e.target.checked);\n    console.log(\"targetvalue\", e.target.value);\n\n    if (e.target.checked === true) {\n      this.state.checkbox.push(e.target.value);\n    } else {\n      const i = this.state.checkbox.indexOf(e.target.value);\n      this.state.checkbox.splice(i, 1);\n    }\n  }\n\n  onChangeDefautGroup(e) {\n    console.log(\"target\", e.target.checked);\n\n    if (e.target.checked === true) {\n      this.setState({\n        defaultCheck: true\n      });\n    }\n  }\n\n  onChangeGroup(e) {\n    this.setState({\n      groupName: e.target.value\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const obj = {\n      name: this.state.groupName,\n      status: 'active',\n      permission: this.state.checkbox,\n      defaultGroup: this.state.defaultCheck\n    };\n    const token = window.localStorage.getItem('jwt-token');\n    const config = {\n      headers: {\n        'Authorization': `${token}`\n      }\n    };\n    axios.post(`${Config.apiUrl}/api/role`, obj, config).then(res => {\n      console.log(res);\n      this.setState({\n        checkbox: [],\n        groupName: '',\n        successalart: true,\n        upState: true\n      }, () => {\n        window.setTimeout(() => {\n          this.setState({\n            successalart: false\n          });\n        }, 2000);\n      });\n      this.props.history.push(\"/group_list\");\n    }).catch(error => {\n      if (error.response) {\n        console.log(error.response.data.errors.name.msg);\n        this.setState({\n          errorName: error.response.data.errors.name.msg\n        });\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(AdminRouteProtected, {\n        permissionName: 'can_add_role',\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container mt-4 wr_padding_top\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-9 col-sm-8 col-xs-12\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"askqst_post_wrap\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  class: \"header2\",\n                  children: \"Add Group\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 37\n                }, this), this.state.successalart && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"alert alert-success\",\n                  children: \"Group Created successfully!!!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"text_control\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"Add_group\",\n                    children: /*#__PURE__*/_jsxDEV(\"form\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"font\",\n                        children: \"Group Name:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 160,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"add_permisision\",\n                        children: /*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"email\",\n                          id: \"textInput\",\n                          class: \"form-control groupform\",\n                          placeholder: \"Enter group name..\",\n                          onChange: this.onChangeGroup,\n                          value: this.state.groupName\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 162,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 161,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 167,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"error\",\n                          style: this.error_msg,\n                          children: this.state.errorName\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 169,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 168,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"font\",\n                        children: \"Add Permissions:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 171,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 172,\n                        columnNumber: 49\n                      }, this), this.state.permissions && this.state.permissions.map((permission, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"add_permisision\",\n                        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"checkbox\",\n                          value: Object.keys(permission)[0],\n                          name: \"permission[]\",\n                          onChange: this.onChangeTitle\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 175,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"permissions\",\n                          children: [\" \", permission[Object.keys(permission)[0]]]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 180,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 181,\n                          columnNumber: 64\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 174,\n                        columnNumber: 53\n                      }, this)), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 184,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 185,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"add_newpermisision font\",\n                        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"checkbox\",\n                          value: this.state.defaultCheck,\n                          onChange: this.onChangeDefautGroup\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 188,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"permissions\",\n                          children: \" Default Signin Group\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 192,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 195,\n                          columnNumber: 53\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 187,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"buttonDiv\",\n                        children: [/*#__PURE__*/_jsxDEV(Link, {\n                          to: \"/group_list\",\n                          children: /*#__PURE__*/_jsxDEV(\"button\", {\n                            type: \"button\",\n                            class: \"btn btn-success addButton\",\n                            children: \"Back \"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 201,\n                            columnNumber: 57\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 200,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          type: \"button\",\n                          class: \"btn btn-success addButton\",\n                          onClick: this.onSubmit,\n                          children: \"Create Group\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 202,\n                          columnNumber: 53\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 199,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 159,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 158,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-3 col-sm-4 col-xs-12\",\n              children: /*#__PURE__*/_jsxDEV(DashboardSide, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-3 col-sm-4 col-xs-12\",\n              children: /*#__PURE__*/_jsxDEV(AdminSidebar, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default AddGroups;","map":{"version":3,"sources":["/app/frontend/src/components/Pages/AddGroups.jsx"],"names":["React","Component","AdminSidebar","DashboardSide","axios","Config","Link","AdminRouteProtected","AddGroups","constructor","props","error_msg","fontSize","color","onChangeTitle","bind","onChangeDefautGroup","onChangeGroup","onSubmit","state","permissions","checkbox","groupName","errorName","successalart","upState","defaultCheck","componentDidMount","getPermission","componentDidUpdate","setState","console","log","token","window","localStorage","getItem","config","headers","get","apiUrl","then","response","data","catch","error","e","target","checked","value","push","i","indexOf","splice","preventDefault","obj","name","status","permission","defaultGroup","post","res","setTimeout","history","errors","msg","render","map","index","Object","keys"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport AdminSidebar from \"../Layouts/AdminSidebar\";\nimport DashboardSide from \"../Layouts/DashboardSide\";\nimport axios from \"axios\";\nimport Config from \"../BaseUrl/Config\";\nimport { Link } from 'react-router-dom';\nimport AdminRouteProtected from '../Auth/AdminRouteProtected';\nclass AddGroups extends Component {\n    error_msg = {\n        fontSize: 13,\n        color: 'red'\n    }\n    constructor(props) {\n        super(props);\n        this.onChangeTitle = this.onChangeTitle.bind(this);\n        this.onChangeDefautGroup = this.onChangeDefautGroup.bind(this);\n        this.onChangeGroup = this.onChangeGroup.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n        this.state = {\n            permissions: null,\n            checkbox: [],\n            groupName: '',\n            errorName: '',\n            successalart: false,\n            upState: false,\n            defaultCheck: false\n\n        };\n    }\n\n    componentDidMount() {\n        this.getPermission()\n\n    }\n    componentDidUpdate() {\n        if (this.state.upState) {\n            this.getPermission()\n            this.setState({\n                upState: false\n            })\n        }\n        else {\n            console.log(\"not update\")\n        }\n\n    }\n\n    getPermission() {\n        const token = window.localStorage.getItem('jwt-token')\n        const config = {\n            headers: {\n                'Authorization': `${token}`\n            }\n        }\n        axios.get(`${Config.apiUrl}/api/permissions`, config)\n            .then(response => {\n                this.setState({\n                    permissions: response.data.permissions,\n\n                });\n                console.log(\"type of\", typeof (response.data.permissions))\n            })\n            .catch(function (error) {\n                console.log(error);\n            })\n\n    }\n\n    onChangeTitle(e) {\n        console.log(\"target\", e.target.checked)\n        console.log(\"targetvalue\", e.target.value)\n        if (e.target.checked === true) {\n            this.state.checkbox.push(e.target.value)\n        }\n        else {\n            const i = this.state.checkbox.indexOf(e.target.value)\n            this.state.checkbox.splice(i, 1)\n        }\n    }\n\n\n    onChangeDefautGroup(e) {\n        console.log(\"target\", e.target.checked)\n\n        if (e.target.checked === true) {\n            this.setState({\n                defaultCheck: true\n            })\n        }\n\n    }\n\n    onChangeGroup(e) {\n        this.setState({\n            groupName: e.target.value\n        });\n    }\n\n    onSubmit(e) {\n        e.preventDefault();\n        const obj = {\n            name: this.state.groupName,\n            status: 'active',\n            permission: this.state.checkbox,\n            defaultGroup: this.state.defaultCheck\n        };\n\n        const token = window.localStorage.getItem('jwt-token')\n        const config = {\n            headers: {\n                'Authorization': `${token}`\n            }\n        }\n        axios.post(`${Config.apiUrl}/api/role`, obj, config)\n            .then((res) => {\n                console.log(res)\n                this.setState({\n                    checkbox: [],\n                    groupName: '',\n                    successalart: true,\n                    upState: true\n                },\n                    () => {\n                        window.setTimeout(() => { this.setState({ successalart: false }) }, 2000)\n                    })\n                this.props.history.push(\"/group_list\")\n\n            })\n            .catch(error => {\n                if (error.response) {\n                    console.log(error.response.data.errors.name.msg);\n                    this.setState({\n                        errorName: error.response.data.errors.name.msg\n                    })\n                }\n            }\n            );\n    }\n    render() {\n        return (\n            <React.Fragment>\n                <AdminRouteProtected permissionName={'can_add_role'}>\n                    <div className=\"container mt-4 wr_padding_top\">\n                        <div className=\"row\">\n\n                            <div className=\"col-md-9 col-sm-8 col-xs-12\">\n                                {/* <AddGroupsBody /> */}\n                                <div class=\"askqst_post_wrap\">\n                                    <h4 class=\"header2\">Add Group</h4>\n                                    <br />\n                                    <br />\n                                    {this.state.successalart &&\n                                        <div className=\"alert alert-success\">\n                                            Group Created successfully!!!\n                        </div>\n                                    }\n                                    <div class=\"text_control\">\n                                        <div class=\"Add_group\">\n                                            <form>\n                                                <p className=\"font\">Group Name:</p>\n                                                <div class=\"add_permisision\">\n                                                    <input type=\"email\" id=\"textInput\" class=\"form-control groupform\" placeholder=\"Enter group name..\"\n                                                        onChange={this.onChangeGroup}\n                                                        value={this.state.groupName}\n                                                    />\n                                                </div>\n                                                <br />\n                                                <div>\n                                                    <span className='error' style={this.error_msg}>{this.state.errorName}</span>\n                                                </div>\n                                                <p className=\"font\">Add Permissions:</p>\n                                                <br />\n                                                {this.state.permissions && this.state.permissions.map((permission, index) => (\n                                                    <div class=\"add_permisision\">\n                                                        <input type=\"checkbox\"\n                                                            value={Object.keys(permission)[0]}\n                                                            name=\"permission[]\"\n                                                            onChange={this.onChangeTitle}\n                                                        />\n                                                        <span className=\"permissions\"> {permission[Object.keys(permission)[0]]}\n                                                        </span><br />\n                                                    </div>\n                                                ))}\n                                                <br />\n                                                <br />\n\n                                                <div class=\"add_newpermisision font\">\n                                                    <input type=\"checkbox\"\n                                                        value={this.state.defaultCheck}\n                                                        onChange={this.onChangeDefautGroup}\n                                                    />\n                                                    <span className=\"permissions\"> Default Signin Group\n                                                </span>\n\n                                                    <br />\n                                                </div>\n\n\n                                                <div class=\"buttonDiv\">\n                                                    <Link to=\"/group_list\">\n                                                        <button type=\"button\" class=\"btn btn-success addButton\">Back </button></Link>\n                                                    <button type=\"button\" class=\"btn btn-success addButton\" onClick={this.onSubmit}>Create Group</button>\n\n                                                </div>\n                                            </form>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"col-md-3 col-sm-4 col-xs-12\">\n                                <DashboardSide />\n                            </div>\n                            <div className=\"col-md-3 col-sm-4 col-xs-12\">\n                                <AdminSidebar />\n                            </div>\n\n                        </div>\n                    </div>\n                </AdminRouteProtected>\n            </React.Fragment>\n        )\n    }\n\n}\nexport default AddGroups"]},"metadata":{},"sourceType":"module"}
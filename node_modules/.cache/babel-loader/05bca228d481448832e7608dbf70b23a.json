{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/app/frontend/src/components/Layouts/EditGroupBody.jsx\";\nimport React, { Component } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport axios from \"axios\";\nimport Config from \"../BaseUrl/Config\";\n\nclass EditGroupBody extends Component {\n  constructor(props) {\n    super(props);\n    this.error_msg = {\n      fontSize: 13,\n      color: 'red'\n    };\n    this.onChangeTitle = this.onChangeTitle.bind(this);\n    this.onChangeGroup = this.onChangeGroup.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onChangeDefautGroup = this.onChangeDefautGroup.bind(this);\n    this.state = {\n      allPossiblePermissions: null,\n      checkbox: new Map(),\n      groupName: this.props.groupName,\n      successalart: false,\n      defaultCheck: false,\n      errorName: ''\n    };\n  }\n\n  componentDidMount() {\n    const token = window.localStorage.getItem('jwt-token');\n    const config = {\n      headers: {\n        'Authorization': `${token}`\n      }\n    };\n    const existedPermissionMap = new Map();\n    this.props.existedPermission.map(role => existedPermissionMap.set(role, true));\n    this.setState({\n      checkbox: existedPermissionMap,\n      defaultCheck: this.props.defaultCheck\n    });\n    axios.get(`${Config.apiUrl}/api/permissions`, config).then(response => {\n      this.setState({\n        allPossiblePermission: response.data.permissions\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  onChangeTitle(e) {\n    if (e.target.checked === true && (this.state.checkbox.size === 0 || !this.state.checkbox.get(e.target.value))) {\n      this.setState({\n        checkbox: this.state.checkbox.set(e.target.value, true)\n      });\n      console.log(\"if check\", this.state.checkbox);\n    } else if (e.target.checked === false && (this.state.checkbox.size === 0 || this.state.checkbox.get(e.target.value))) {\n      this.setState({\n        checkbox: this.state.checkbox.set(e.target.value, false)\n      });\n      console.log(\"else check\", this.state.checkbox);\n    }\n  }\n\n  onChangeDefautGroup(e) {\n    console.log(\"target68\", e.target.checked);\n\n    if (e.target.checked === true) {\n      this.setState({\n        defaultCheck: true\n      });\n    } else {\n      this.setState({\n        defaultCheck: false\n      });\n    }\n  }\n\n  onChangeGroup(e) {\n    this.setState({\n      groupName: e.target.value\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    let updatedPermissions = [];\n\n    for (let [key, value] of this.state.checkbox) {\n      if (value) {\n        updatedPermissions.push(key);\n      }\n    }\n\n    const obj = {\n      name: this.state.groupName,\n      status: 'active',\n      permission: updatedPermissions,\n      defaultGroup: this.state.defaultCheck\n    };\n    const token = window.localStorage.getItem('jwt-token');\n    const config = {\n      headers: {\n        'Authorization': `${token}`\n      }\n    };\n    axios.put(`${Config.apiUrl}/api/role/` + this.props.Id, obj, config).then(res => {\n      console.log(res);\n      this.setState({\n        successalart: true,\n        errorName: ''\n      }, () => {\n        window.setTimeout(() => {\n          this.setState({\n            successalart: false\n          });\n        }, 2000);\n      });\n    }).catch(error => {\n      if (error.response) {\n        console.log(error.response.data.errors.name.msg);\n        this.setState({\n          errorName: error.response.data.errors.name.msg\n        });\n      }\n    });\n  }\n\n  render() {\n    let {\n      allPossiblePermission\n    } = this.state; // console.log('def',this.state.defaultCheck)\n\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"askqst_post_wrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          class: \"update_group\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"fa fa-group\",\n            style: {\n              fontSize: \"15px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 25\n          }, this), \" \", this.state.groupName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }, this), this.state.successalart && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-success\",\n          children: \"Group Updated Successfully\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"text_control\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"Add_group\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font\",\n                children: \"Group Name:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"add_permisision\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  id: \"textInput\",\n                  class: \"form-control groupform\",\n                  placeholder: \"Enter group name..\",\n                  onChange: this.onChangeGroup,\n                  value: this.state.groupName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"error\",\n                  style: this.error_msg,\n                  children: this.state.errorName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 53\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font\",\n                children: \"Add Permissions:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 33\n              }, this), this.state.allPossiblePermission && this.state.allPossiblePermission.map((permission, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"add_permisision\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: this.state.checkbox.get(Object.keys(permission)[0]),\n                  value: Object.keys(permission)[0],\n                  name: \"permission[]\",\n                  onChange: this.onChangeTitle\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"allPossiblePermission\",\n                  children: [\" \", permission[Object.keys(permission)[0]]]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 48\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 37\n              }, this)), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"add_newpermisision font \",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: this.state.defaultCheck,\n                  value: this.state.defaultCheck,\n                  onChange: this.onChangeDefautGroup\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"permissions\",\n                  children: \" Default Signin Group\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"buttonDiv\",\n                children: [/*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/group_list\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    class: \"btn btn-success addButton\",\n                    children: \"Back\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  class: \"btn btn-success addButton\",\n                  onClick: this.onSubmit,\n                  children: \"Update Group\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default EditGroupBody;","map":{"version":3,"sources":["/app/frontend/src/components/Layouts/EditGroupBody.jsx"],"names":["React","Component","Link","Redirect","axios","Config","EditGroupBody","constructor","props","error_msg","fontSize","color","onChangeTitle","bind","onChangeGroup","onSubmit","onChangeDefautGroup","state","allPossiblePermissions","checkbox","Map","groupName","successalart","defaultCheck","errorName","componentDidMount","token","window","localStorage","getItem","config","headers","existedPermissionMap","existedPermission","map","role","set","setState","get","apiUrl","then","response","allPossiblePermission","data","permissions","catch","error","console","log","e","target","checked","size","value","preventDefault","updatedPermissions","key","push","obj","name","status","permission","defaultGroup","put","Id","res","setTimeout","errors","msg","render","index","Object","keys"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport axios from \"axios\";\nimport Config from \"../BaseUrl/Config\";\n\nclass EditGroupBody extends Component {\n    error_msg = {\n        fontSize: 13,\n        color: 'red'\n    }\n    constructor(props) {\n        super(props);\n        this.onChangeTitle = this.onChangeTitle.bind(this);\n        this.onChangeGroup = this.onChangeGroup.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n        this.onChangeDefautGroup = this.onChangeDefautGroup.bind(this);\n\n        this.state = {\n            allPossiblePermissions: null,\n            checkbox: new Map(),\n            groupName: this.props.groupName,\n            successalart: false,\n            defaultCheck:false,\n            errorName: '',\n\n        };\n    }\n\n    componentDidMount() {\n        const token = window.localStorage.getItem('jwt-token')\n        const config = {\n            headers: {\n                'Authorization': `${token}`\n            }\n        }\n\n        const existedPermissionMap = new Map();\n        this.props.existedPermission.map(role => existedPermissionMap.set(role, true));\n        this.setState({\n            checkbox: existedPermissionMap,\n            defaultCheck:this.props.defaultCheck\n        })\n\n        axios.get(`${Config.apiUrl}/api/permissions`, config)\n            .then(response => {\n                this.setState({\n                    allPossiblePermission: response.data.permissions,\n                });\n            })\n            .catch(function (error) {\n                console.log(error);\n            })\n    }\n\n    onChangeTitle(e) {\n\n        if (e.target.checked === true && (this.state.checkbox.size === 0 || !this.state.checkbox.get(e.target.value))) {\n            this.setState({\n                checkbox: this.state.checkbox.set(e.target.value, true)\n            })\n            console.log(\"if check\", this.state.checkbox)\n        }\n        else if (e.target.checked === false && (this.state.checkbox.size === 0 || this.state.checkbox.get(e.target.value))) {\n            this.setState({\n                checkbox: this.state.checkbox.set(e.target.value, false)\n            })\n            console.log(\"else check\", this.state.checkbox)\n\n        }\n\n    }\n    onChangeDefautGroup(e) {\n        console.log(\"target68\", e.target.checked)\n\n        if (e.target.checked === true) {\n            this.setState({\n                defaultCheck: true\n            })\n        }\n        else{\n            this.setState({\n                defaultCheck: false\n            })\n        }\n\n    }\n\n    onChangeGroup(e) {\n        this.setState({\n            groupName: e.target.value\n        });\n    }\n\n    onSubmit(e) {\n        e.preventDefault();\n        let updatedPermissions = [];\n        for (let [key, value] of this.state.checkbox) {\n            if (value) {\n                updatedPermissions.push(key);\n            }\n        }\n\n        const obj = {\n            name: this.state.groupName,\n            status: 'active',\n            permission: updatedPermissions,\n            defaultGroup: this.state.defaultCheck\n        };\n\n        const token = window.localStorage.getItem('jwt-token')\n        const config = {\n            headers: {\n                'Authorization': `${token}`\n            }\n        }\n        axios.put(`${Config.apiUrl}/api/role/` + this.props.Id, obj, config)\n            .then((res) => {\n                console.log(res)\n                this.setState({\n                    successalart: true,\n                    errorName: ''\n                },\n                    () => {\n                        window.setTimeout(() => { this.setState({ successalart: false }) }, 2000)\n                    })\n            })\n            .catch(error => {\n                if (error.response) {\n                    console.log(error.response.data.errors.name.msg);\n                    this.setState({\n                        errorName: error.response.data.errors.name.msg\n                    })\n                }\n            }\n            );\n    }\n\n    render() {\n        let { allPossiblePermission } = this.state;\n        // console.log('def',this.state.defaultCheck)\n\n        return (\n            <React.Fragment>\n                {/* <!-- post start  --> */}\n\n                <div class=\"askqst_post_wrap\">\n                    <h4 class=\"update_group\">\n                        <i class=\"fa fa-group\" style={{ fontSize: \"15px\" }}></i> {this.state.groupName}</h4>\n                    <br />\n                    <br />\n                    {this.state.successalart &&\n                        <div className=\"alert alert-success\">\n                            Group Updated Successfully\n                        </div>\n                    }\n                    <div class=\"text_control\">\n                        <div class=\"Add_group\">\n                            <form>\n                                <p className=\"font\">Group Name:</p>\n                                <div class=\"add_permisision\">\n                                    <input type=\"email\" id=\"textInput\" class=\"form-control groupform\" placeholder=\"Enter group name..\"\n                                        onChange={this.onChangeGroup}\n                                        value={this.state.groupName}\n                                    />\n                                </div>\n                                <br />\n                                <div>\n                                                    <span className='error' style={this.error_msg}>{this.state.errorName}</span>\n                                                </div>\n                                <p className=\"font\">Add Permissions:</p>\n                                <br />\n\n                                {this.state.allPossiblePermission && this.state.allPossiblePermission.map((permission, index) => (\n                                    <div class=\"add_permisision\">\n                                        <input type=\"checkbox\"\n                                            checked={this.state.checkbox.get(Object.keys(permission)[0])}\n                                            value={Object.keys(permission)[0]}\n                                            name=\"permission[]\"\n                                            onChange={this.onChangeTitle}\n                                        />\n                                        <span className=\"allPossiblePermission\"> {permission[Object.keys(permission)[0]]}\n                                        </span><br />\n                                    </div>\n                                ))}\n                                <br/>\n                                <br/>\n                                <div class=\"add_newpermisision font \">\n                                    <input type=\"checkbox\"\n                                       checked={this.state.defaultCheck}\n                                        value={this.state.defaultCheck}\n                                        onChange={this.onChangeDefautGroup}\n                                    />\n                                    <span className=\"permissions\"> Default Signin Group\n                                                </span>\n\n                                    <br />\n                                </div>\n\n                                <div class=\"buttonDiv\">\n                                    <Link to={\"/group_list\"}>\n                                        <button type=\"button\" class=\"btn btn-success addButton\"\n                                        >Back</button>\n                                    </Link>\n                                    <button type=\"button\" class=\"btn btn-success addButton\"\n                                        onClick={this.onSubmit}\n                                    >Update Group</button>\n\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n\n                </div>\n                {/* <!-- post end  --> */}\n\n            </React.Fragment >\n        )\n    }\n\n}\nexport default EditGroupBody"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/app/frontend/src/components/Pages/Login.jsx\";\nimport React, { Component } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport Config from \"../BaseUrl/Config\";\nconst validEmailRegex = RegExp(/^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i);\n\nconst validateForm = ({\n  errors,\n  ...rest\n}) => {\n  let valid = true; // validate form errors being empty\n\n  Object.values(errors).forEach(val => {\n    val.length > 0 && (valid = false);\n  }); // validate the form was filled out\n\n  Object.values(rest).forEach(val => {\n    val === null && (valid = false);\n  });\n  return valid;\n};\n\nclass Login extends Component {\n  /* Style for validation error message */\n  constructor(props) {\n    super(props);\n    this.error_msg = {\n      fontSize: 11,\n      color: 'red'\n    };\n\n    this.handleChange = event => {\n      event.preventDefault();\n      const {\n        name,\n        value\n      } = event.target;\n      let errors = this.state.errors;\n\n      switch (name) {\n        case 'email':\n          errors.email = validEmailRegex.test(value) ? '' : 'Email is not valid!';\n          break;\n\n        case 'password':\n          errors.password = value.length < 8 ? 'Password must be at least 8 characters long!' : '';\n          break;\n\n        default:\n          break;\n      }\n\n      this.setState({\n        errors,\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = (event, history) => {\n      event.preventDefault();\n      this.setState({\n        errorStatus: ''\n      });\n      const obj = {\n        email: this.state.email,\n        password: this.state.password\n      };\n      axios.post(`${Config.apiUrl}/api/sign-in`, obj).then(res => {\n        this.setState({\n          email: '',\n          password: ''\n        });\n        window.localStorage.setItem('jwt-token', res.data.data.token);\n        this.props.manageState();\n        let element = document.getElementsByClassName(\"modal-backdrop\");\n\n        while (element.length > 0) element[0].remove();\n      }).catch(error => {\n        if (error.response) {\n          if (error.response.status === 401) {\n            this.setState({\n              errorStatus: 'Wrong email and password !!!'\n            });\n          } else if (error.response.status == 422) {\n            this.setState({\n              errorStatus: 'Wrong email and password !!!'\n            });\n          }\n        }\n      });\n    };\n\n    this.state = {\n      isModalClose: this.props.show,\n      email: null,\n      password: null,\n      form_empty: '',\n      modal: '',\n      errors: {\n        email: '',\n        password: ''\n      },\n      token: '',\n      errorpass: '',\n      errorStatus: null\n    };\n  }\n\n  render() {\n    const {\n      errors,\n      form_empty\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: this.props.show && /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"modal\",\n        tabindex: \"-1\",\n        role: \"dialog\",\n        id: \"mymodal\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"modal-dialog modal_width\",\n          role: \"document\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"modal-content\",\n            style: {\n              borderRadius: \"0px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              onClick: () => {\n                this.props.manageState();\n                let element = document.getElementsByClassName(\"modal-backdrop\");\n\n                while (element.length > 0) element[0].remove();\n\n                this.setState({\n                  errorStatus: '',\n                  email: ''\n                });\n              },\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fa fa-window-close window_close_icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"modal-header boder-bottom-color\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                class: \"modal_p\",\n                children: \"Login To Our Site\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                class: \"modal_sugg\",\n                children: \"Enter your username and password to log on :\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                class: \"close\",\n                \"data-dismiss\": \"modal\",\n                \"aria-label\": \"Close\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"modal-body modal-body-design2\",\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: this.handleSubmit,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"email\",\n                    class: \"form-control fontcontrol\",\n                    id: \"text\",\n                    name: \"email\",\n                    placeholder: \"Email..\",\n                    onChange: this.handleChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 149,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: errors.email.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"error\",\n                      style: this.error_msg,\n                      children: errors.email\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 154,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 152,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"password\",\n                    class: \"form-control fontcontrol\",\n                    id: \"text\",\n                    name: \"password\",\n                    onChange: this.handleChange,\n                    placeholder: \"Password..\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 158,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: errors.password.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"error\",\n                      style: this.error_msg,\n                      children: errors.password\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 164,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 162,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"error\",\n                      style: this.error_msg,\n                      children: this.state.errorpass\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 167,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 166,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 41\n                }, this), this.state.errorStatus && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"error\",\n                  style: this.error_msg,\n                  children: this.state.errorStatus\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/forgot_password\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    class: \"modal_p2\",\n                    onClick: () => {\n                      this.props.manageState();\n                      let element = document.getElementsByClassName(\"modal-backdrop\");\n\n                      while (element.length > 0) element[0].remove();\n                    },\n                    children: \"forget password?\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 178,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  class: \"btn btn-primary btn_secoend\",\n                  style: {\n                    borderRadius: \"2px\"\n                  },\n                  children: \"Sign in!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"modal-footer boder-bottom-color\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                class: \"modal_sugg2\",\n                children: [\"Don't Have an Account?\", /*#__PURE__*/_jsxDEV(\"a\", {\n                  class: \"signup\",\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \" Sign up\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 192,\n                    columnNumber: 100\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 82\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/app/frontend/src/components/Pages/Login.jsx"],"names":["React","Component","Link","Redirect","axios","Config","validEmailRegex","RegExp","validateForm","errors","rest","valid","Object","values","forEach","val","length","Login","constructor","props","error_msg","fontSize","color","handleChange","event","preventDefault","name","value","target","state","email","test","password","setState","handleSubmit","history","errorStatus","obj","post","apiUrl","then","res","window","localStorage","setItem","data","token","manageState","element","document","getElementsByClassName","remove","catch","error","response","status","isModalClose","show","form_empty","modal","errorpass","render","borderRadius"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport Config from \"../BaseUrl/Config\";\n\n\nconst validEmailRegex = RegExp(\n    /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\n);\nconst validateForm = ({ errors, ...rest }) => {\n    let valid = true;\n\n    // validate form errors being empty\n    Object.values(errors).forEach(val => {\n        val.length > 0 && (valid = false);\n    });\n\n    // validate the form was filled out\n    Object.values(rest).forEach(val => {\n        val === null && (valid = false);\n    });\n\n    return valid;\n};\nclass Login extends Component {\n    /* Style for validation error message */\n    error_msg = {\n        fontSize: 11,\n        color: 'red'\n    }\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            isModalClose: this.props.show,\n            email: null,\n            password: null,\n            form_empty: '',\n            modal: '',\n            errors: {\n                email: '',\n                password: ''\n            },\n            token: '',\n            errorpass: '',\n            errorStatus: null\n\n        };\n    }\n\n\n    handleChange = (event) => {\n        event.preventDefault();\n        const { name, value } = event.target;\n        let errors = this.state.errors;\n\n        switch (name) {\n\n            case 'email':\n                errors.email =\n                    validEmailRegex.test(value)\n                        ? ''\n                        : 'Email is not valid!';\n                break;\n\n            case 'password':\n                errors.password =\n                    value.length < 8\n                        ? 'Password must be at least 8 characters long!'\n                        : '';\n                break;\n\n            default:\n                break;\n        }\n\n        this.setState({ errors, [name]: value });\n    }\n\n    handleSubmit = (event, history) => {\n        event.preventDefault();\n        this.setState({\n            errorStatus: ''\n        })\n        const obj = {\n            email: this.state.email,\n            password: this.state.password\n        };\n        axios.post(`${Config.apiUrl}/api/sign-in`, obj)\n            .then(res => {\n                this.setState({\n                    email: '',\n                    password: ''\n                })\n                window.localStorage.setItem('jwt-token', res.data.data.token)\n                this.props.manageState()\n                let element = document.getElementsByClassName(\"modal-backdrop\")\n                while (element.length > 0) element[0].remove();\n            })\n            .catch(error => {\n\n                if (error.response) {\n                    if (error.response.status === 401) {\n                        this.setState({\n                            errorStatus: 'Wrong email and password !!!'\n                        })\n                    } else if (error.response.status == 422) {\n                        this.setState({\n\n                            errorStatus: 'Wrong email and password !!!'\n                        })\n                    }\n                }\n            }\n            );\n    }\n    render() {\n        const { errors, form_empty } = this.state;\n\n        return (\n\n            <React.Fragment>\n                {  this.props.show &&\n                    <div class=\"modal\" tabindex=\"-1\" role=\"dialog\" id=\"mymodal\" >\n                        <div class=\"modal-dialog modal_width\" role=\"document\">\n                            <div class=\"modal-content\" style={{ borderRadius: \"0px\" }}>\n                                <a href=\"#\"\n                                    onClick={() => {\n                                        this.props.manageState()\n                                        let element = document.getElementsByClassName(\"modal-backdrop\")\n                                        while (element.length > 0) element[0].remove();\n                                        this.setState({\n                                            errorStatus: '',\n                                            email: ''\n                                        })\n                                    }}\n                                >\n                                    <i class=\"fa fa-window-close window_close_icon\"\n                                    ></i></a>\n                                <div class=\"modal-header boder-bottom-color\">\n                                    <p class=\"modal_p\">Login To Our Site</p>\n                                    <p class=\"modal_sugg\">Enter your username and password to log on :</p>\n                                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                    </button>\n                                </div>\n                                <div class=\"modal-body modal-body-design2\">\n                                    <form onSubmit={this.handleSubmit}>\n                                        <div class=\"form-group\">\n                                            <input type=\"email\" class=\"form-control fontcontrol\" id=\"text\"\n                                                name=\"email\" placeholder=\"Email..\"\n                                                onChange={this.handleChange} />\n                                            <div>\n                                                {errors.email.length > 0 &&\n                                                    <span className='error' style={this.error_msg}>{errors.email}</span>}\n                                            </div>\n                                        </div>\n                                        <div class=\"form-group\">\n                                            <input type=\"password\" class=\"form-control fontcontrol\" id=\"text\"\n                                                name=\"password\"\n                                                onChange={this.handleChange}\n                                                placeholder=\"Password..\" />\n                                            <div>\n                                                {errors.password.length > 0 &&\n                                                    <span className='error' style={this.error_msg}>{errors.password}</span>}\n                                            </div>\n                                            <div>\n                                                <span className='error' style={this.error_msg}>{this.state.errorpass}</span>\n                                            </div>\n\n                                        </div>\n                                        {\n                                            this.state.errorStatus &&\n                                            <span className='error' style={this.error_msg}>{this.state.errorStatus}</span>\n                                        }\n\n                                        <br />\n                                        <Link to=\"/forgot_password\">\n                                            <p class=\"modal_p2\"\n                                                onClick={() => {\n                                                    this.props.manageState()\n                                                    let element = document.getElementsByClassName(\"modal-backdrop\")\n                                                    while (element.length > 0) element[0].remove();\n\n                                                }}\n\n                                            >forget password?</p></Link>\n\n                                        <button type=\"submit\" class=\"btn btn-primary btn_secoend\" style={{ borderRadius: \"2px\" }}>Sign in!</button>\n                                    </form>\n                                </div>\n                                <div class=\"modal-footer boder-bottom-color\">\n                                    <p class=\"modal_sugg2\">Don't Have an Account?<a class=\"signup\"><strong> Sign\n\t\t\t\t\t\t\t\tup</strong></a></p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                }\n            </React.Fragment>\n\n        )\n    }\n\n}\nexport default Login"]},"metadata":{},"sourceType":"module"}
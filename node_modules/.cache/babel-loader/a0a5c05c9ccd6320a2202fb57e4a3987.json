{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/app/frontend/src/components/Layouts/ChangePassBody.jsx\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport Config from \"../BaseUrl/Config\";\nimport { Link } from 'react-router-dom';\nimport InvalidFeedBack from \"../Auth/InvalidFeedBack\";\n\nclass ChangePassBody extends Component {\n  constructor(props) {\n    super(props);\n    this.error_msg = {\n      fontSize: 15,\n      color: 'red'\n    };\n    this.onChangeOld = this.onChangeOld.bind(this);\n    this.onChangeNew = this.onChangeNew.bind(this);\n    this.onChangeConfirm = this.onChangeConfirm.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.state = {\n      oldPassword: '',\n      newPassword: '',\n      confirmPassword: '',\n      successalart: false,\n      error_message: {},\n      errorStatus: null\n    };\n  }\n\n  onChangeOld(e) {\n    this.setState({\n      oldPassword: e.target.value\n    });\n  }\n\n  onChangeNew(e) {\n    this.setState({\n      newPassword: e.target.value\n    });\n  }\n\n  onChangeConfirm(e) {\n    this.setState({\n      confirmPassword: e.target.value\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const obj = {\n      oldPassword: this.state.oldPassword,\n      newPassword: this.state.newPassword,\n      conformPassword: this.state.confirmPassword\n    };\n    const token = window.localStorage.getItem('jwt-token');\n    const config = {\n      headers: {\n        'Authorization': `${token}`\n      }\n    };\n    axios.put(`${Config.apiUrl}/api/update-password`, obj, config).then(res => {\n      console.log(res);\n      this.setState({\n        successalart: true,\n        oldPassword: '',\n        newPassword: '',\n        confirmPassword: '',\n        error_message: '',\n        errorStatus: ''\n      }, () => {\n        window.setTimeout(() => {\n          this.setState({\n            successalart: false\n          });\n        }, 2000);\n      });\n    }).catch(error => {\n      if (error.response) {\n        if (error.response.status === 409) {\n          this.setState({\n            errorStatus: 'Password not match !!'\n          });\n        } else if (error.response.status === 422) {\n          this.setState({\n            error_message: error.response.data.errors\n          });\n        }\n      }\n    });\n  }\n\n  render() {\n    let className = '';\n\n    if (this.state.error_message.hasOwnProperty('title')) {\n      className += \"is-invalid\";\n    }\n\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"askqst_post_wrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-key\",\n            style: {\n              fontSize: \"15px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }, this), \" Update current password\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this), this.state.successalart && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-success\",\n          children: \"Successfully update your password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-sm-4 \",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"para_name\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"name2_desin\",\n                    children: [\"Old Password:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"password\",\n                      className: \"text-line \" + className,\n                      onChange: this.onChangeOld,\n                      value: this.state.oldPassword\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 119,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 118,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 125,\n                    columnNumber: 41\n                  }, this), this.state.error_message.hasOwnProperty('oldPassword') && /*#__PURE__*/_jsxDEV(InvalidFeedBack, {\n                    message: this.state.error_message.oldPassword.msg\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 126,\n                    columnNumber: 100\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"para_name\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"name2_desin\",\n                    children: [\"New Password:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"password\",\n                      className: \"text-line\",\n                      onChange: this.onChangeNew,\n                      value: this.state.newPassword\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 132,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 131,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 137,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 37\n                }, this), this.state.error_message.hasOwnProperty('newPassword') && /*#__PURE__*/_jsxDEV(InvalidFeedBack, {\n                  message: this.state.error_message.newPassword.msg\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 96\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"para_name\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"name2_desin\",\n                    children: [\"Confirm Password:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"password\",\n                      className: \"text-line\",\n                      onChange: this.onChangeConfirm,\n                      value: this.state.confirmPassword\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 143,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 142,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 150,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 37\n                }, this), this.state.error_message.hasOwnProperty('conformPassword') && /*#__PURE__*/_jsxDEV(InvalidFeedBack, {\n                  message: this.state.error_message.conformPassword.msg\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 100\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"error\",\n                  style: this.error_msg,\n                  children: this.state.errorStatus\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/question_list\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"submit\",\n                    className: \"btn btn-success upload_photo_btn2 \",\n                    children: \"Back\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 157,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  className: \"btn btn-success upload_photo_btn2 \",\n                  onClick: this.onSubmit,\n                  children: \"Change Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default ChangePassBody;","map":{"version":3,"sources":["/app/frontend/src/components/Layouts/ChangePassBody.jsx"],"names":["React","Component","axios","Config","Link","InvalidFeedBack","ChangePassBody","constructor","props","error_msg","fontSize","color","onChangeOld","bind","onChangeNew","onChangeConfirm","onSubmit","state","oldPassword","newPassword","confirmPassword","successalart","error_message","errorStatus","e","setState","target","value","preventDefault","obj","conformPassword","token","window","localStorage","getItem","config","headers","put","apiUrl","then","res","console","log","setTimeout","catch","error","response","status","data","errors","render","className","hasOwnProperty","msg"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from \"axios\";\nimport Config from \"../BaseUrl/Config\";\nimport { Link } from 'react-router-dom';\nimport InvalidFeedBack from \"../Auth/InvalidFeedBack\";\n\nclass ChangePassBody extends Component {\n    error_msg = {\n        fontSize: 15,\n        color: 'red',\n        \n    }\n\n    constructor(props) {\n        super(props);\n        this.onChangeOld = this.onChangeOld.bind(this);\n        this.onChangeNew = this.onChangeNew.bind(this);\n        this.onChangeConfirm = this.onChangeConfirm.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n\n        this.state = {\n            oldPassword: '',\n            newPassword: '',\n            confirmPassword: '',\n            successalart: false,\n            error_message: {},\n            errorStatus: null\n        };\n    }\n\n    onChangeOld(e) {\n        this.setState({\n            oldPassword: e.target.value\n        });\n    }\n    onChangeNew(e) {\n        this.setState({\n            newPassword: e.target.value\n        })\n    }\n\n    onChangeConfirm(e) {\n        this.setState({\n            confirmPassword: e.target.value\n        });\n    }\n\n    onSubmit(e) {\n        e.preventDefault();\n        const obj = {\n            oldPassword: this.state.oldPassword,\n            newPassword: this.state.newPassword,\n            conformPassword: this.state.confirmPassword,\n\n        };\n\n        const token = window.localStorage.getItem('jwt-token')\n        const config = {\n            headers: {\n                'Authorization': `${token}`\n            }\n        }\n        axios.put(`${Config.apiUrl}/api/update-password`, obj, config)\n            .then((res) => {\n                console.log(res)\n                this.setState({\n                    successalart: true,\n                    oldPassword: '',\n                    newPassword: '',\n                    confirmPassword: '',\n                    error_message:'',\n                    errorStatus:''\n                },\n                    () => { window.setTimeout(() => { this.setState({ successalart: false }) }, 2000) })\n\n            })\n            .catch(error => {\n                if (error.response) {\n                    if (error.response.status === 409) {\n                        this.setState({\n                            errorStatus: 'Password not match !!'\n                        })\n                    }\n                    else if (error.response.status === 422) {\n                        this.setState({\n                            error_message: error.response.data.errors,\n                        })\n\n                    }\n\n                }\n            }\n            );\n    }\n    render() {\n        let className = ''\n        if (this.state.error_message.hasOwnProperty('title')) {\n            className += \"is-invalid\"\n        }\n        return (\n            <React.Fragment>\n                <div className=\"askqst_post_wrap\">\n                    <br />\n                    <h4 >\n                        <i className=\"fas fa-key\" style={{ fontSize: \"15px\" }}></i> Update current password</h4>\n                    <br />\n                    <br />\n                    {this.state.successalart &&\n                        <div className=\"alert alert-success\">\n                            Successfully update your password\n                                         </div>\n                    }\n                    <div className=\"container\">\n                        <div className=\"row\">\n                            <form>\n                                <div className=\"col-sm-4 \">\n                                    <div className=\"para_name\">\n                                        <p className=\"name2_desin\">Old Password:\n                                        <input type=\"password\"\n                                                className={\"text-line \" + className}\n                                                onChange={this.onChangeOld}\n                                                value={this.state.oldPassword}\n                                            />\n                                        </p>\n                                        <br />\n                                        {this.state.error_message.hasOwnProperty('oldPassword') && <InvalidFeedBack message={this.state.error_message.oldPassword.msg} />}\n                                    </div>\n\n                                    <br />\n                                    <div className=\"para_name\">\n                                        <p className=\"name2_desin\">New Password:\n                                        <input type=\"password\" className=\"text-line\"\n                                                onChange={this.onChangeNew}\n                                                value={this.state.newPassword}\n                                            />\n                                        </p>\n                                        <br />\n                                    </div>\n                                    {this.state.error_message.hasOwnProperty('newPassword') && <InvalidFeedBack message={this.state.error_message.newPassword.msg} />}\n                                    <br />\n                                    <div className=\"para_name\">\n                                        <p className=\"name2_desin\">Confirm Password:\n                                        <input type=\"password\" className=\"text-line\"\n                                                onChange={this.onChangeConfirm}\n                                                value={this.state.confirmPassword}\n\n                                            />\n\n                                        </p>\n                                        <br />\n                                    </div>\n                                    {this.state.error_message.hasOwnProperty('conformPassword') && <InvalidFeedBack message={this.state.error_message.conformPassword.msg} />}\n                                    {/* {this.state.error_message.hasOwnProperty('conformPassword') && <InvalidFeedBack  message={this.state.error_message.conformPassword.msg} />} */}\n                                    <span className='error' style={this.error_msg}>{this.state.errorStatus}</span>\n                                    <br/>\n                                    <Link to=\"/question_list\">\n                                        <button type=\"submit\" className=\"btn btn-success upload_photo_btn2 \"\n                                        >Back</button></Link>\n\n                                    <button type=\"submit\" className=\"btn btn-success upload_photo_btn2 \"\n                                        onClick={this.onSubmit}\n                                    >Change Password</button>\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n                {/* <!-- post end  --></div> */}\n\n            </React.Fragment>\n        )\n    }\n\n}\nexport default ChangePassBody"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/app/frontend/src/components/Pages/EditAnswer.jsx\";\nimport React, { Component } from 'react';\nimport SideBar from \"../Layouts/SideBar\";\nimport CKEditor from 'ckeditor4-react';\nimport axios from \"axios\";\nimport Config from \"../BaseUrl/Config\";\nimport { Link } from 'react-router-dom';\n\nclass EditAnswer extends Component {\n  constructor(props) {\n    super(props);\n    this.error_msg = {\n      fontSize: 13,\n      color: 'red'\n    };\n    this.onEditorChange = this.onEditorChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.state = {\n      body: '',\n      questionId: '',\n      Answer: null,\n      respondentId: '',\n      errorBody: ''\n    };\n  }\n\n  componentDidMount() {\n    axios.get(`${Config.apiUrl}/api/answer/` + this.props.match.params.id).then(response => {\n      this.setState({\n        Answer: response.data.answer.body,\n        respondentId: response.data.answer.respondentId,\n        questionId: response.data.answer.questionId\n      });\n      console.log(\"update\", response.data.answer.respondentId);\n    }).catch(error => console.log(error));\n  }\n\n  onEditorChange(evt) {\n    this.setState({\n      body: evt.editor.getData()\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const token = window.localStorage.getItem('jwt-token');\n    let questionId = this.state.questionId;\n    const obj = {\n      body: this.state.body,\n      questionId\n    };\n    const config = {\n      headers: {\n        'Authorization': `${token}`\n      }\n    };\n    axios.put(`${Config.apiUrl}/api/answer/` + this.props.match.params.id, obj, config).then(res => {\n      console.log(res);\n      this.setState({\n        body: \"\"\n      });\n      this.props.history.push('/details/' + this.state.questionId);\n    }).catch(error => {\n      if (error.response) {\n        console.log(\"err\", error.response.data.errors.body.msg);\n        this.setState({\n          errorBody: error.response.data.errors.body.msg\n        });\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mt-4 wr_padding_top\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-9 col-sm-8 col-xs-12\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"askqst_post_wrap\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Update Answer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: this.onSubmit,\n                children: [this.state.Answer != null && /*#__PURE__*/_jsxDEV(CKEditor, {\n                  onChange: this.onEditorChange,\n                  value: this.state.Answer,\n                  data: this.state.Answer,\n                  config: {\n                    autoParagraph: false,\n                    enterMode: 2,\n                    type: 'inline'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"error\",\n                    style: this.error_msg,\n                    children: this.state.errorBody\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 111,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/details/\" + this.state.questionId,\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"submit\",\n                    className: \"btn btn-success addButton\",\n                    children: \"Back\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 115,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  className: \"btn btn-success addButton\",\n                  children: \"Update Your Answer\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-3 col-sm-4 col-xs-12\",\n            children: /*#__PURE__*/_jsxDEV(SideBar, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default EditAnswer;","map":{"version":3,"sources":["/app/frontend/src/components/Pages/EditAnswer.jsx"],"names":["React","Component","SideBar","CKEditor","axios","Config","Link","EditAnswer","constructor","props","error_msg","fontSize","color","onEditorChange","bind","onSubmit","state","body","questionId","Answer","respondentId","errorBody","componentDidMount","get","apiUrl","match","params","id","then","response","setState","data","answer","console","log","catch","error","evt","editor","getData","e","preventDefault","token","window","localStorage","getItem","obj","config","headers","put","res","history","push","errors","msg","render","autoParagraph","enterMode","type"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport SideBar from \"../Layouts/SideBar\";\nimport CKEditor from 'ckeditor4-react';\nimport axios from \"axios\";\nimport Config from \"../BaseUrl/Config\";\nimport { Link } from 'react-router-dom';\n\n\nclass EditAnswer extends Component {\n    error_msg = {\n        fontSize: 13,\n        color: 'red'\n      }\n\n    constructor(props) {\n        super(props);\n        this.onEditorChange = this.onEditorChange.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n\n        this.state = {\n            body: '',\n            questionId: '',\n            Answer: null,\n            respondentId: '',\n            errorBody:''\n        };\n    }\n\n    componentDidMount() {\n        axios.get(`${Config.apiUrl}/api/answer/` + this.props.match.params.id)\n            .then(response => {\n                this.setState({\n                    Answer: response.data.answer.body,\n                    respondentId: response.data.answer.respondentId,\n                    questionId: response.data.answer.questionId\n\n                });\n                console.log(\"update\", response.data.answer.respondentId)\n\n            })\n            .catch((error) => console.log(error));\n    }\n\n\n    onEditorChange(evt) {\n        this.setState({\n            body: evt.editor.getData()\n        });\n    }\n\n\n    onSubmit(e) {\n        e.preventDefault();\n        const token = window.localStorage.getItem('jwt-token')\n        let questionId = this.state.questionId\n        const obj = {\n            body: this.state.body,\n            questionId\n\n        }\n        const config = {\n            headers: {\n                'Authorization': `${token}`\n            }\n        }\n        axios.put(`${Config.apiUrl}/api/answer/` + this.props.match.params.id, obj, config)\n            .then((res) => {\n                console.log(res)\n                this.setState({\n                    body: \"\",\n\n                })\n                this.props.history.push('/details/' + this.state.questionId);\n            })\n            .catch(error =>{\n                if (error.response) {\n                    console.log(\"err\",error.response.data.errors.body.msg)\n                    this.setState({\n                        errorBody:error.response.data.errors.body.msg,\n                       \n                    })\n                  }      \n            }\n            );\n    }\n    render() {\n        return (\n            <React.Fragment>\n\n                <div className=\"container mt-4 wr_padding_top\">\n                    <div className=\"row\">\n                        <div className=\"col-md-9 col-sm-8 col-xs-12\">\n                            <div class=\"askqst_post_wrap\">\n                                <h3>Update Answer</h3>\n                                <form onSubmit={this.onSubmit}>\n                                    {this.state.Answer != null &&\n                                        <CKEditor\n                                            onChange={this.onEditorChange}\n                                            value={this.state.Answer}\n                                            data={this.state.Answer}\n                                            config={{\n                                                autoParagraph: false,\n                                                enterMode: 2,\n                                                type: 'inline'\n                                            }}\n                                        >\n                                        </CKEditor>\n                                    }\n                                    <br />\n                                    <div>\n                            <span className='error' style={this.error_msg}>{this.state.errorBody}</span>\n                            </div>\n                                    <Link to={\"/details/\"+this.state.questionId}>\n\n                                    <button type=\"submit\" className=\"btn btn-success addButton\">Back</button></Link>\n                                    <button type=\"submit\" className=\"btn btn-success addButton\">Update Your Answer</button>\n                                </form>\n                                </div>\n                            </div>\n\n                            <div className=\"col-md-3 col-sm-4 col-xs-12\">\n                                <SideBar />\n                            </div>\n\n                        </div>\n                    </div>\n            </React.Fragment>\n        )\n    }\n\n}\nexport default EditAnswer"]},"metadata":{},"sourceType":"module"}